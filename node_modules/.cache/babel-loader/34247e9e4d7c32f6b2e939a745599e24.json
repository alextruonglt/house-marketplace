{"ast":null,"code":"import{useEffect,useState,useRef}from'react';import{getAuth,onAuthStateChanged}from'firebase/auth';export const useAuthStatus=()=>{const[loggedIn,setLoggedIn]=useState(false);const[checkingStatus,setCheckingStatus]=useState(true);const isMounted=useRef(true);useEffect(()=>{if(isMounted){const auth=getAuth();onAuthStateChanged(auth,user=>{if(user){setLoggedIn(true);}setCheckingStatus(false);});}return()=>{isMounted.current=false;};},[isMounted]);return{loggedIn,checkingStatus};};// Protected routes in v6\n// https://stackoverflow.com/questions/65505665/protected-route-with-firebase\n// Fix memory leak warning\n// https://stackoverflow.com/questions/59780268/cleanup-memory-leaks-on-an-unmounted-component-in-react-hooks","map":{"version":3,"names":["useEffect","useState","useRef","getAuth","onAuthStateChanged","useAuthStatus","loggedIn","setLoggedIn","checkingStatus","setCheckingStatus","isMounted","auth","user","current"],"sources":["/Users/alextruong/Documents/Coding/house-marketplace/src/hooks/useAuthStatus.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react'\nimport { getAuth, onAuthStateChanged } from 'firebase/auth'\n\nexport const useAuthStatus = () => {\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [checkingStatus, setCheckingStatus] = useState(true)\n  const isMounted = useRef(true)\n\n  useEffect(() => {\n    if (isMounted) {\n      const auth = getAuth()\n      onAuthStateChanged(auth, (user) => {\n        if (user) {\n          setLoggedIn(true)\n        }\n        setCheckingStatus(false)\n      })\n    }\n\n    return () => {\n      isMounted.current = false\n    }\n  }, [isMounted])\n\n  return { loggedIn, checkingStatus }\n}\n\n// Protected routes in v6\n// https://stackoverflow.com/questions/65505665/protected-route-with-firebase\n\n// Fix memory leak warning\n// https://stackoverflow.com/questions/59780268/cleanup-memory-leaks-on-an-unmounted-component-in-react-hooks\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CACnD,OAASC,OAAO,CAAEC,kBAAkB,KAAQ,eAAe,CAE3D,MAAO,MAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACjC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGN,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACO,cAAc,CAAEC,iBAAiB,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAAS,SAAS,CAAGR,MAAM,CAAC,IAAI,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,GAAIU,SAAS,CAAE,CACb,KAAM,CAAAC,IAAI,CAAGR,OAAO,CAAC,CAAC,CACtBC,kBAAkB,CAACO,IAAI,CAAGC,IAAI,EAAK,CACjC,GAAIA,IAAI,CAAE,CACRL,WAAW,CAAC,IAAI,CAAC,CACnB,CACAE,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAC,CAAC,CACJ,CAEA,MAAO,IAAM,CACXC,SAAS,CAACG,OAAO,CAAG,KAAK,CAC3B,CAAC,CACH,CAAC,CAAE,CAACH,SAAS,CAAC,CAAC,CAEf,MAAO,CAAEJ,QAAQ,CAAEE,cAAe,CAAC,CACrC,CAAC,CAED;AACA;AAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module"}