{"ast":null,"code":"import{useState,useEffect}from'react';import{useParams,useSearchParams}from'react-router-dom';import{doc,getDoc}from'firebase/firestore';import{db}from'../firebase.config';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Contact(){const[message,setMessage]=useState('');const[landlord,setLandlord]=useState(null);// eslint-disable-next-line\nconst[searchParams,setSearchParams]=useSearchParams();const params=useParams();useEffect(()=>{const getLandlord=async()=>{const docRef=doc(db,'users',params.landlordId);const docSnap=await getDoc(docRef);if(docSnap.exists()){setLandlord(docSnap.data());}else{toast.error('Could not get landlord data');}};getLandlord();},[params.landlordId]);const onChange=e=>setMessage(e.target.value);return/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainer\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"pageHeader\",children:\"Contact Landlord\"})}),landlord!==null&&/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"contactLandlord\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"landlordName\",children:[\"Contact \",landlord===null||landlord===void 0?void 0:landlord.name]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"messageForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"messageDiv\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",className:\"messageLabel\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",id:\"message\",className:\"textarea\",value:message,onChange:onChange})]}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(landlord.email,\"?Subject=\").concat(searchParams.get('listingName'),\"&body=\").concat(message),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"primaryButton\",children:\"Send Message\"})})]})]})]});}export default Contact;","map":{"version":3,"names":["useState","useEffect","useParams","useSearchParams","doc","getDoc","db","toast","jsx","_jsx","jsxs","_jsxs","Contact","message","setMessage","landlord","setLandlord","searchParams","setSearchParams","params","getLandlord","docRef","landlordId","docSnap","exists","data","error","onChange","e","target","value","className","children","name","htmlFor","id","href","concat","email","get","type"],"sources":["/Users/alextruong/Documents/Coding/house-marketplace/src/pages/Contact.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useParams, useSearchParams } from 'react-router-dom'\nimport { doc, getDoc } from 'firebase/firestore'\nimport { db } from '../firebase.config'\nimport { toast } from 'react-toastify'\n\nfunction Contact() {\n  const [message, setMessage] = useState('')\n  const [landlord, setLandlord] = useState(null)\n  // eslint-disable-next-line\n  const [searchParams, setSearchParams] = useSearchParams()\n\n  const params = useParams()\n\n  useEffect(() => {\n    const getLandlord = async () => {\n      const docRef = doc(db, 'users', params.landlordId)\n      const docSnap = await getDoc(docRef)\n\n      if (docSnap.exists()) {\n        setLandlord(docSnap.data())\n      } else {\n        toast.error('Could not get landlord data')\n      }\n    }\n\n    getLandlord()\n  }, [params.landlordId])\n\n  const onChange = (e) => setMessage(e.target.value)\n\n  return (\n    <div className='pageContainer'>\n      <header>\n        <p className='pageHeader'>Contact Landlord</p>\n      </header>\n\n      {landlord !== null && (\n        <main>\n          <div className='contactLandlord'>\n            <p className='landlordName'>Contact {landlord?.name}</p>\n          </div>\n\n          <form className='messageForm'>\n            <div className='messageDiv'>\n              <label htmlFor='message' className='messageLabel'>\n                Message\n              </label>\n              <textarea\n                name='message'\n                id='message'\n                className='textarea'\n                value={message}\n                onChange={onChange}\n              ></textarea>\n            </div>\n\n            <a\n              href={`mailto:${landlord.email}?Subject=${searchParams.get(\n                'listingName'\n              )}&body=${message}`}\n            >\n              <button type='button' className='primaryButton'>\n                Send Message\n              </button>\n            </a>\n          </form>\n        </main>\n      )}\n    </div>\n  )\n}\n\nexport default Contact\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}