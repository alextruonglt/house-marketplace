{"ast":null,"code":"var _jsxFileName = \"/Users/alextruong/Documents/Coding/house-marketplace/src/pages/CreateListing.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { addDoc, collection, serverTimestamp } from \"firebase/firestore\";\nimport { db } from \"../firebase.config\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Spinner from \"../components/Spinner\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CreateListing() {\n  _s();\n  // eslint-disable-next-line\n  const [geolocationEnabled, setGeolocationEnabled] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    type: \"rent\",\n    name: \"\",\n    bedrooms: 1,\n    bathrooms: 1,\n    parking: false,\n    furnished: false,\n    address: \"\",\n    offer: false,\n    regularPrice: 0,\n    discountedPrice: 0,\n    images: {},\n    latitude: 0,\n    longitude: 0\n  });\n  const {\n    type,\n    name,\n    bedrooms,\n    bathrooms,\n    parking,\n    furnished,\n    address,\n    offer,\n    regularPrice,\n    discountedPrice,\n    images,\n    latitude,\n    longitude\n  } = formData;\n  const auth = getAuth();\n  const navigate = useNavigate();\n  const isMounted = useRef(true);\n  useEffect(() => {\n    if (isMounted) {\n      onAuthStateChanged(auth, user => {\n        if (user) {\n          setFormData({\n            ...formData,\n            userRef: user.uid\n          });\n        } else {\n          navigate(\"/sign-in\");\n        }\n      });\n    }\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isMounted]);\n  const onSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    if (discountedPrice >= regularPrice) {\n      setLoading(false);\n      toast.error(\"Discounted price needs to be less than regular price\");\n      return;\n    }\n    if (images.length > 6) {\n      setLoading(false);\n      toast.error(\"Max 6 images\");\n      return;\n    }\n    let geolocation = {};\n    let location;\n    if (geolocationEnabled) {\n      var _data$results$0$geome, _data$results$, _data$results$0$geome2, _data$results$2, _data$results$3;\n      const response = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=${process.env.REACT_APP_GEOCODE_API_KEY}`);\n      const data = await response.json();\n      geolocation.lat = (_data$results$0$geome = (_data$results$ = data.results[0]) === null || _data$results$ === void 0 ? void 0 : _data$results$.geometry.location.lat) !== null && _data$results$0$geome !== void 0 ? _data$results$0$geome : 0;\n      geolocation.lng = (_data$results$0$geome2 = (_data$results$2 = data.results[0]) === null || _data$results$2 === void 0 ? void 0 : _data$results$2.geometry.location.lng) !== null && _data$results$0$geome2 !== void 0 ? _data$results$0$geome2 : 0;\n      location = data.status === \"ZERO_RESULTS\" ? undefined : (_data$results$3 = data.results[0]) === null || _data$results$3 === void 0 ? void 0 : _data$results$3.formatted_address;\n      if (location === undefined || location.includes(\"undefined\")) {\n        setLoading(false);\n        toast.error(\"Please enter a correct address\");\n        return;\n      }\n    } else {\n      geolocation.lat = latitude;\n      geolocation.lng = longitude;\n    }\n\n    // Store image in firebase\n    const storeImage = async image => {\n      return new Promise((resolve, reject) => {\n        const storage = getStorage();\n        const fileName = `${auth.currentUser.uid}-${image.name}-${uuidv4()}`;\n        const storageRef = ref(storage, \"images/\" + fileName);\n        const uploadTask = uploadBytesResumable(storageRef, image);\n        uploadTask.on(\"state_changed\", snapshot => {\n          const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n          console.log(\"Upload is \" + progress + \"% done\");\n          switch (snapshot.state) {\n            case \"paused\":\n              console.log(\"Upload is paused\");\n              break;\n            case \"running\":\n              console.log(\"Upload is running\");\n              break;\n            default:\n              break;\n          }\n        }, error => {\n          reject(error);\n        }, () => {\n          getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n            resolve(downloadURL);\n          });\n        });\n      });\n    };\n    const imgUrls = await Promise.all([...images].map(image => storeImage(image))).catch(() => {\n      setLoading(false);\n      toast.error(\"Images not uploaded\");\n      return;\n    });\n    const formDataCopy = {\n      ...formData,\n      imgUrls,\n      geolocation,\n      timestamp: serverTimestamp()\n    };\n    formDataCopy.location = address;\n    delete formDataCopy.images;\n    delete formDataCopy.address;\n    !formDataCopy.offer && delete formDataCopy.discountedPrice;\n    const docRef = await addDoc(collection(db, \"listings\"), formDataCopy);\n    setLoading(false);\n    toast.success(\"Listing saved\");\n    navigate(`/category/${formDataCopy.type}/${docRef.id}`);\n  };\n  const onMutate = e => {\n    let boolean = null;\n    if (e.target.value === \"true\") {\n      boolean = true;\n    }\n    if (e.target.value === \"false\") {\n      boolean = false;\n    }\n\n    // Files\n    if (e.target.files) {\n      setFormData(prevState => ({\n        ...prevState,\n        images: e.target.files\n      }));\n    }\n\n    // Text/Booleans/Numbers\n    if (!e.target.files) {\n      setFormData(prevState => {\n        var _boolean;\n        return {\n          ...prevState,\n          [e.target.id]: (_boolean = boolean) !== null && _boolean !== void 0 ? _boolean : e.target.value\n        };\n      });\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"pageHeader\",\n        children: \"Create a Listing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"Sell / Rent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formButtons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: type === \"sale\" ? \"formButtonActive\" : \"formButton\",\n            id: \"type\",\n            value: \"sale\",\n            onClick: onMutate,\n            children: \"Sell\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: type === \"rent\" ? \"formButtonActive\" : \"formButton\",\n            id: \"type\",\n            value: \"rent\",\n            onClick: onMutate,\n            children: \"Rent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formInputName\",\n          type: \"text\",\n          id: \"name\",\n          value: name,\n          onChange: onMutate,\n          maxLength: \"32\",\n          minLength: \"10\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formRooms flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"formLabel\",\n              children: \"Bedrooms\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"formInputSmall\",\n              type: \"number\",\n              id: \"bedrooms\",\n              value: bedrooms,\n              onChange: onMutate,\n              min: \"1\",\n              max: \"50\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"formLabel\",\n              children: \"Bathrooms\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"formInputSmall\",\n              type: \"number\",\n              id: \"bathrooms\",\n              value: bathrooms,\n              onChange: onMutate,\n              min: \"1\",\n              max: \"50\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"Parking spot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formButtons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: parking ? \"formButtonActive\" : \"formButton\",\n            type: \"button\",\n            id: \"parking\",\n            value: true,\n            onClick: onMutate,\n            min: \"1\",\n            max: \"50\",\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: !parking && parking !== null ? \"formButtonActive\" : \"formButton\",\n            type: \"button\",\n            id: \"parking\",\n            value: false,\n            onClick: onMutate,\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"Furnished\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formButtons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: furnished ? \"formButtonActive\" : \"formButton\",\n            type: \"button\",\n            id: \"furnished\",\n            value: true,\n            onClick: onMutate,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: !furnished && furnished !== null ? \"formButtonActive\" : \"formButton\",\n            type: \"button\",\n            id: \"furnished\",\n            value: false,\n            onClick: onMutate,\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"formInputAddress\",\n          type: \"text\",\n          id: \"address\",\n          value: address,\n          onChange: onMutate,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), !geolocationEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formLatLng flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"formLabel\",\n              children: \"Latitude\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"formInputSmall\",\n              type: \"number\",\n              id: \"latitude\",\n              value: latitude,\n              onChange: onMutate,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"formLabel\",\n              children: \"Longitude\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"formInputSmall\",\n              type: \"number\",\n              id: \"longitude\",\n              value: longitude,\n              onChange: onMutate,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"Offer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formButtons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: offer ? \"formButtonActive\" : \"formButton\",\n            type: \"button\",\n            id: \"offer\",\n            value: true,\n            onClick: onMutate,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: !offer && offer !== null ? \"formButtonActive\" : \"formButton\",\n            type: \"button\",\n            id: \"offer\",\n            value: false,\n            onClick: onMutate,\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"Regular Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formPriceDiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"formInputSmall\",\n            type: \"number\",\n            id: \"regularPrice\",\n            value: regularPrice,\n            onChange: onMutate,\n            min: \"50\",\n            max: \"750000000\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), type === \"rent\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"formPriceText\",\n            children: \"$ / Month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), offer && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"formLabel\",\n            children: \"Discounted Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"formInputSmall\",\n            type: \"number\",\n            id: \"discountedPrice\",\n            value: discountedPrice,\n            onChange: onMutate,\n            min: \"50\",\n            max: \"750000000\",\n            required: offer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"Images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"imagesInfo\",\n          children: \"The first image will be the cover (max 6).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"formInputFile\",\n          type: \"file\",\n          id: \"images\",\n          onChange: onMutate,\n          max: \"6\",\n          accept: \".jpg,.png,.jpeg\",\n          multiple: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"primaryButton createListingButton\",\n          children: \"Create Listing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateListing, \"9PmBQiwbLfjSvjOBK1hdy2MXAfA=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateListing;\nexport default CreateListing;\nvar _c;\n$RefreshReg$(_c, \"CreateListing\");","map":{"version":3,"names":["useState","useEffect","useRef","getAuth","onAuthStateChanged","getStorage","ref","uploadBytesResumable","getDownloadURL","addDoc","collection","serverTimestamp","db","useNavigate","toast","v4","uuidv4","Spinner","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateListing","_s","geolocationEnabled","setGeolocationEnabled","loading","setLoading","formData","setFormData","type","name","bedrooms","bathrooms","parking","furnished","address","offer","regularPrice","discountedPrice","images","latitude","longitude","auth","navigate","isMounted","user","userRef","uid","current","onSubmit","e","preventDefault","error","length","geolocation","location","_data$results$0$geome","_data$results$","_data$results$0$geome2","_data$results$2","_data$results$3","response","fetch","process","env","REACT_APP_GEOCODE_API_KEY","data","json","lat","results","geometry","lng","status","undefined","formatted_address","includes","storeImage","image","Promise","resolve","reject","storage","fileName","currentUser","storageRef","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","console","log","state","then","downloadURL","imgUrls","all","map","catch","formDataCopy","timestamp","docRef","success","id","onMutate","boolean","target","value","files","prevState","_boolean","_jsxFileName","lineNumber","columnNumber","className","children","onClick","onChange","maxLength","minLength","required","min","max","accept","multiple","_c","$RefreshReg$"],"sources":["/Users/alextruong/Documents/Coding/house-marketplace/src/pages/CreateListing.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\"\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\"\nimport {\n  getStorage,\n  ref,\n  uploadBytesResumable,\n  getDownloadURL,\n} from \"firebase/storage\"\nimport { addDoc, collection, serverTimestamp } from \"firebase/firestore\"\nimport { db } from \"../firebase.config\"\nimport { useNavigate } from \"react-router-dom\"\nimport { toast } from \"react-toastify\"\nimport { v4 as uuidv4 } from \"uuid\"\nimport Spinner from \"../components/Spinner\"\n\nfunction CreateListing() {\n  // eslint-disable-next-line\n  const [geolocationEnabled, setGeolocationEnabled] = useState(true)\n  const [loading, setLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    type: \"rent\",\n    name: \"\",\n    bedrooms: 1,\n    bathrooms: 1,\n    parking: false,\n    furnished: false,\n    address: \"\",\n    offer: false,\n    regularPrice: 0,\n    discountedPrice: 0,\n    images: {},\n    latitude: 0,\n    longitude: 0,\n  })\n\n  const {\n    type,\n    name,\n    bedrooms,\n    bathrooms,\n    parking,\n    furnished,\n    address,\n    offer,\n    regularPrice,\n    discountedPrice,\n    images,\n    latitude,\n    longitude,\n  } = formData\n\n  const auth = getAuth()\n  const navigate = useNavigate()\n  const isMounted = useRef(true)\n\n  useEffect(() => {\n    if (isMounted) {\n      onAuthStateChanged(auth, (user) => {\n        if (user) {\n          setFormData({ ...formData, userRef: user.uid })\n        } else {\n          navigate(\"/sign-in\")\n        }\n      })\n    }\n\n    return () => {\n      isMounted.current = false\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isMounted])\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n\n    setLoading(true)\n\n    if (discountedPrice >= regularPrice) {\n      setLoading(false)\n      toast.error(\"Discounted price needs to be less than regular price\")\n      return\n    }\n\n    if (images.length > 6) {\n      setLoading(false)\n      toast.error(\"Max 6 images\")\n      return\n    }\n\n    let geolocation = {}\n    let location\n\n    if (geolocationEnabled) {\n      const response = await fetch(\n        `https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=${process.env.REACT_APP_GEOCODE_API_KEY}`\n      )\n\n      const data = await response.json()\n\n      geolocation.lat = data.results[0]?.geometry.location.lat ?? 0\n      geolocation.lng = data.results[0]?.geometry.location.lng ?? 0\n\n      location =\n        data.status === \"ZERO_RESULTS\"\n          ? undefined\n          : data.results[0]?.formatted_address\n\n      if (location === undefined || location.includes(\"undefined\")) {\n        setLoading(false)\n        toast.error(\"Please enter a correct address\")\n        return\n      }\n    } else {\n      geolocation.lat = latitude\n      geolocation.lng = longitude\n    }\n\n    // Store image in firebase\n    const storeImage = async (image) => {\n      return new Promise((resolve, reject) => {\n        const storage = getStorage()\n        const fileName = `${auth.currentUser.uid}-${image.name}-${uuidv4()}`\n\n        const storageRef = ref(storage, \"images/\" + fileName)\n\n        const uploadTask = uploadBytesResumable(storageRef, image)\n\n        uploadTask.on(\n          \"state_changed\",\n          (snapshot) => {\n            const progress =\n              (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n            console.log(\"Upload is \" + progress + \"% done\")\n            switch (snapshot.state) {\n              case \"paused\":\n                console.log(\"Upload is paused\")\n                break\n              case \"running\":\n                console.log(\"Upload is running\")\n                break\n              default:\n                break\n            }\n          },\n          (error) => {\n            reject(error)\n          },\n          () => {\n            getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n              resolve(downloadURL)\n            })\n          }\n        )\n      })\n    }\n\n    const imgUrls = await Promise.all(\n      [...images].map((image) => storeImage(image))\n    ).catch(() => {\n      setLoading(false)\n      toast.error(\"Images not uploaded\")\n      return\n    })\n\n    const formDataCopy = {\n      ...formData,\n      imgUrls,\n      geolocation,\n      timestamp: serverTimestamp(),\n    }\n\n    formDataCopy.location = address\n    delete formDataCopy.images\n    delete formDataCopy.address\n    !formDataCopy.offer && delete formDataCopy.discountedPrice\n\n    const docRef = await addDoc(collection(db, \"listings\"), formDataCopy)\n    setLoading(false)\n    toast.success(\"Listing saved\")\n    navigate(`/category/${formDataCopy.type}/${docRef.id}`)\n  }\n\n  const onMutate = (e) => {\n    let boolean = null\n\n    if (e.target.value === \"true\") {\n      boolean = true\n    }\n    if (e.target.value === \"false\") {\n      boolean = false\n    }\n\n    // Files\n    if (e.target.files) {\n      setFormData((prevState) => ({\n        ...prevState,\n        images: e.target.files,\n      }))\n    }\n\n    // Text/Booleans/Numbers\n    if (!e.target.files) {\n      setFormData((prevState) => ({\n        ...prevState,\n        [e.target.id]: boolean ?? e.target.value,\n      }))\n    }\n  }\n\n  if (loading) {\n    return <Spinner />\n  }\n\n  return (\n    <div className=\"profile\">\n      <header>\n        <p className=\"pageHeader\">Create a Listing</p>\n      </header>\n\n      <main>\n        <form onSubmit={onSubmit}>\n          <label className=\"formLabel\">Sell / Rent</label>\n          <div className=\"formButtons\">\n            <button\n              type=\"button\"\n              className={type === \"sale\" ? \"formButtonActive\" : \"formButton\"}\n              id=\"type\"\n              value=\"sale\"\n              onClick={onMutate}\n            >\n              Sell\n            </button>\n            <button\n              type=\"button\"\n              className={type === \"rent\" ? \"formButtonActive\" : \"formButton\"}\n              id=\"type\"\n              value=\"rent\"\n              onClick={onMutate}\n            >\n              Rent\n            </button>\n          </div>\n\n          <label className=\"formLabel\">Name</label>\n          <input\n            className=\"formInputName\"\n            type=\"text\"\n            id=\"name\"\n            value={name}\n            onChange={onMutate}\n            maxLength=\"32\"\n            minLength=\"10\"\n            required\n          />\n\n          <div className=\"formRooms flex\">\n            <div>\n              <label className=\"formLabel\">Bedrooms</label>\n              <input\n                className=\"formInputSmall\"\n                type=\"number\"\n                id=\"bedrooms\"\n                value={bedrooms}\n                onChange={onMutate}\n                min=\"1\"\n                max=\"50\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"formLabel\">Bathrooms</label>\n              <input\n                className=\"formInputSmall\"\n                type=\"number\"\n                id=\"bathrooms\"\n                value={bathrooms}\n                onChange={onMutate}\n                min=\"1\"\n                max=\"50\"\n                required\n              />\n            </div>\n          </div>\n\n          <label className=\"formLabel\">Parking spot</label>\n          <div className=\"formButtons\">\n            <button\n              className={parking ? \"formButtonActive\" : \"formButton\"}\n              type=\"button\"\n              id=\"parking\"\n              value={true}\n              onClick={onMutate}\n              min=\"1\"\n              max=\"50\"\n            >\n              Yes\n            </button>\n            <button\n              className={\n                !parking && parking !== null ? \"formButtonActive\" : \"formButton\"\n              }\n              type=\"button\"\n              id=\"parking\"\n              value={false}\n              onClick={onMutate}\n            >\n              No\n            </button>\n          </div>\n\n          <label className=\"formLabel\">Furnished</label>\n          <div className=\"formButtons\">\n            <button\n              className={furnished ? \"formButtonActive\" : \"formButton\"}\n              type=\"button\"\n              id=\"furnished\"\n              value={true}\n              onClick={onMutate}\n            >\n              Yes\n            </button>\n            <button\n              className={\n                !furnished && furnished !== null\n                  ? \"formButtonActive\"\n                  : \"formButton\"\n              }\n              type=\"button\"\n              id=\"furnished\"\n              value={false}\n              onClick={onMutate}\n            >\n              No\n            </button>\n          </div>\n\n          <label className=\"formLabel\">Address</label>\n          <textarea\n            className=\"formInputAddress\"\n            type=\"text\"\n            id=\"address\"\n            value={address}\n            onChange={onMutate}\n            required\n          />\n\n          {!geolocationEnabled && (\n            <div className=\"formLatLng flex\">\n              <div>\n                <label className=\"formLabel\">Latitude</label>\n                <input\n                  className=\"formInputSmall\"\n                  type=\"number\"\n                  id=\"latitude\"\n                  value={latitude}\n                  onChange={onMutate}\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"formLabel\">Longitude</label>\n                <input\n                  className=\"formInputSmall\"\n                  type=\"number\"\n                  id=\"longitude\"\n                  value={longitude}\n                  onChange={onMutate}\n                  required\n                />\n              </div>\n            </div>\n          )}\n\n          <label className=\"formLabel\">Offer</label>\n          <div className=\"formButtons\">\n            <button\n              className={offer ? \"formButtonActive\" : \"formButton\"}\n              type=\"button\"\n              id=\"offer\"\n              value={true}\n              onClick={onMutate}\n            >\n              Yes\n            </button>\n            <button\n              className={\n                !offer && offer !== null ? \"formButtonActive\" : \"formButton\"\n              }\n              type=\"button\"\n              id=\"offer\"\n              value={false}\n              onClick={onMutate}\n            >\n              No\n            </button>\n          </div>\n\n          <label className=\"formLabel\">Regular Price</label>\n          <div className=\"formPriceDiv\">\n            <input\n              className=\"formInputSmall\"\n              type=\"number\"\n              id=\"regularPrice\"\n              value={regularPrice}\n              onChange={onMutate}\n              min=\"50\"\n              max=\"750000000\"\n              required\n            />\n            {type === \"rent\" && <p className=\"formPriceText\">$ / Month</p>}\n          </div>\n\n          {offer && (\n            <>\n              <label className=\"formLabel\">Discounted Price</label>\n              <input\n                className=\"formInputSmall\"\n                type=\"number\"\n                id=\"discountedPrice\"\n                value={discountedPrice}\n                onChange={onMutate}\n                min=\"50\"\n                max=\"750000000\"\n                required={offer}\n              />\n            </>\n          )}\n\n          <label className=\"formLabel\">Images</label>\n          <p className=\"imagesInfo\">\n            The first image will be the cover (max 6).\n          </p>\n          <input\n            className=\"formInputFile\"\n            type=\"file\"\n            id=\"images\"\n            onChange={onMutate}\n            max=\"6\"\n            accept=\".jpg,.png,.jpeg\"\n            multiple\n            required\n          />\n          <button type=\"submit\" className=\"primaryButton createListingButton\">\n            Create Listing\n          </button>\n        </form>\n      </main>\n    </div>\n  )\n}\n\nexport default CreateListing\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACnD,SAASC,OAAO,EAAEC,kBAAkB,QAAQ,eAAe;AAC3D,SACEC,UAAU,EACVC,GAAG,EACHC,oBAAoB,EACpBC,cAAc,QACT,kBAAkB;AACzB,SAASC,MAAM,EAAEC,UAAU,EAAEC,eAAe,QAAQ,oBAAoB;AACxE,SAASC,EAAE,QAAQ,oBAAoB;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,OAAOC,OAAO,MAAM,uBAAuB;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE3C,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB;EACA,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC4B,QAAQ,EAAEC,WAAW,CAAC,GAAG7B,QAAQ,CAAC;IACvC8B,IAAI,EAAE,MAAM;IACZC,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE,CAAC;IACXC,SAAS,EAAE,CAAC;IACZC,OAAO,EAAE,KAAK;IACdC,SAAS,EAAE,KAAK;IAChBC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,KAAK;IACZC,YAAY,EAAE,CAAC;IACfC,eAAe,EAAE,CAAC;IAClBC,MAAM,EAAE,CAAC,CAAC;IACVC,QAAQ,EAAE,CAAC;IACXC,SAAS,EAAE;EACb,CAAC,CAAC;EAEF,MAAM;IACJZ,IAAI;IACJC,IAAI;IACJC,QAAQ;IACRC,SAAS;IACTC,OAAO;IACPC,SAAS;IACTC,OAAO;IACPC,KAAK;IACLC,YAAY;IACZC,eAAe;IACfC,MAAM;IACNC,QAAQ;IACRC;EACF,CAAC,GAAGd,QAAQ;EAEZ,MAAMe,IAAI,GAAGxC,OAAO,CAAC,CAAC;EACtB,MAAMyC,QAAQ,GAAG/B,WAAW,CAAC,CAAC;EAC9B,MAAMgC,SAAS,GAAG3C,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,IAAI4C,SAAS,EAAE;MACbzC,kBAAkB,CAACuC,IAAI,EAAGG,IAAI,IAAK;QACjC,IAAIA,IAAI,EAAE;UACRjB,WAAW,CAAC;YAAE,GAAGD,QAAQ;YAAEmB,OAAO,EAAED,IAAI,CAACE;UAAI,CAAC,CAAC;QACjD,CAAC,MAAM;UACLJ,QAAQ,CAAC,UAAU,CAAC;QACtB;MACF,CAAC,CAAC;IACJ;IAEA,OAAO,MAAM;MACXC,SAAS,CAACI,OAAO,GAAG,KAAK;IAC3B,CAAC;IACD;EACF,CAAC,EAAE,CAACJ,SAAS,CAAC,CAAC;EAEf,MAAMK,QAAQ,GAAG,MAAOC,CAAC,IAAK;IAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElBzB,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAIY,eAAe,IAAID,YAAY,EAAE;MACnCX,UAAU,CAAC,KAAK,CAAC;MACjBb,KAAK,CAACuC,KAAK,CAAC,sDAAsD,CAAC;MACnE;IACF;IAEA,IAAIb,MAAM,CAACc,MAAM,GAAG,CAAC,EAAE;MACrB3B,UAAU,CAAC,KAAK,CAAC;MACjBb,KAAK,CAACuC,KAAK,CAAC,cAAc,CAAC;MAC3B;IACF;IAEA,IAAIE,WAAW,GAAG,CAAC,CAAC;IACpB,IAAIC,QAAQ;IAEZ,IAAIhC,kBAAkB,EAAE;MAAA,IAAAiC,qBAAA,EAAAC,cAAA,EAAAC,sBAAA,EAAAC,eAAA,EAAAC,eAAA;MACtB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,6DAA4D3B,OAAQ,QAAO4B,OAAO,CAACC,GAAG,CAACC,yBAA0B,EACpH,CAAC;MAED,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MAElCb,WAAW,CAACc,GAAG,IAAAZ,qBAAA,IAAAC,cAAA,GAAGS,IAAI,CAACG,OAAO,CAAC,CAAC,CAAC,cAAAZ,cAAA,uBAAfA,cAAA,CAAiBa,QAAQ,CAACf,QAAQ,CAACa,GAAG,cAAAZ,qBAAA,cAAAA,qBAAA,GAAI,CAAC;MAC7DF,WAAW,CAACiB,GAAG,IAAAb,sBAAA,IAAAC,eAAA,GAAGO,IAAI,CAACG,OAAO,CAAC,CAAC,CAAC,cAAAV,eAAA,uBAAfA,eAAA,CAAiBW,QAAQ,CAACf,QAAQ,CAACgB,GAAG,cAAAb,sBAAA,cAAAA,sBAAA,GAAI,CAAC;MAE7DH,QAAQ,GACNW,IAAI,CAACM,MAAM,KAAK,cAAc,GAC1BC,SAAS,IAAAb,eAAA,GACTM,IAAI,CAACG,OAAO,CAAC,CAAC,CAAC,cAAAT,eAAA,uBAAfA,eAAA,CAAiBc,iBAAiB;MAExC,IAAInB,QAAQ,KAAKkB,SAAS,IAAIlB,QAAQ,CAACoB,QAAQ,CAAC,WAAW,CAAC,EAAE;QAC5DjD,UAAU,CAAC,KAAK,CAAC;QACjBb,KAAK,CAACuC,KAAK,CAAC,gCAAgC,CAAC;QAC7C;MACF;IACF,CAAC,MAAM;MACLE,WAAW,CAACc,GAAG,GAAG5B,QAAQ;MAC1Bc,WAAW,CAACiB,GAAG,GAAG9B,SAAS;IAC7B;;IAEA;IACA,MAAMmC,UAAU,GAAG,MAAOC,KAAK,IAAK;MAClC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACtC,MAAMC,OAAO,GAAG7E,UAAU,CAAC,CAAC;QAC5B,MAAM8E,QAAQ,GAAI,GAAExC,IAAI,CAACyC,WAAW,CAACpC,GAAI,IAAG8B,KAAK,CAAC/C,IAAK,IAAGf,MAAM,CAAC,CAAE,EAAC;QAEpE,MAAMqE,UAAU,GAAG/E,GAAG,CAAC4E,OAAO,EAAE,SAAS,GAAGC,QAAQ,CAAC;QAErD,MAAMG,UAAU,GAAG/E,oBAAoB,CAAC8E,UAAU,EAAEP,KAAK,CAAC;QAE1DQ,UAAU,CAACC,EAAE,CACX,eAAe,EACdC,QAAQ,IAAK;UACZ,MAAMC,QAAQ,GACXD,QAAQ,CAACE,gBAAgB,GAAGF,QAAQ,CAACG,UAAU,GAAI,GAAG;UACzDC,OAAO,CAACC,GAAG,CAAC,YAAY,GAAGJ,QAAQ,GAAG,QAAQ,CAAC;UAC/C,QAAQD,QAAQ,CAACM,KAAK;YACpB,KAAK,QAAQ;cACXF,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;cAC/B;YACF,KAAK,SAAS;cACZD,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;cAChC;YACF;cACE;UACJ;QACF,CAAC,EACAxC,KAAK,IAAK;UACT4B,MAAM,CAAC5B,KAAK,CAAC;QACf,CAAC,EACD,MAAM;UACJ7C,cAAc,CAAC8E,UAAU,CAACE,QAAQ,CAAClF,GAAG,CAAC,CAACyF,IAAI,CAAEC,WAAW,IAAK;YAC5DhB,OAAO,CAACgB,WAAW,CAAC;UACtB,CAAC,CAAC;QACJ,CACF,CAAC;MACH,CAAC,CAAC;IACJ,CAAC;IAED,MAAMC,OAAO,GAAG,MAAMlB,OAAO,CAACmB,GAAG,CAC/B,CAAC,GAAG1D,MAAM,CAAC,CAAC2D,GAAG,CAAErB,KAAK,IAAKD,UAAU,CAACC,KAAK,CAAC,CAC9C,CAAC,CAACsB,KAAK,CAAC,MAAM;MACZzE,UAAU,CAAC,KAAK,CAAC;MACjBb,KAAK,CAACuC,KAAK,CAAC,qBAAqB,CAAC;MAClC;IACF,CAAC,CAAC;IAEF,MAAMgD,YAAY,GAAG;MACnB,GAAGzE,QAAQ;MACXqE,OAAO;MACP1C,WAAW;MACX+C,SAAS,EAAE3F,eAAe,CAAC;IAC7B,CAAC;IAED0F,YAAY,CAAC7C,QAAQ,GAAGpB,OAAO;IAC/B,OAAOiE,YAAY,CAAC7D,MAAM;IAC1B,OAAO6D,YAAY,CAACjE,OAAO;IAC3B,CAACiE,YAAY,CAAChE,KAAK,IAAI,OAAOgE,YAAY,CAAC9D,eAAe;IAE1D,MAAMgE,MAAM,GAAG,MAAM9F,MAAM,CAACC,UAAU,CAACE,EAAE,EAAE,UAAU,CAAC,EAAEyF,YAAY,CAAC;IACrE1E,UAAU,CAAC,KAAK,CAAC;IACjBb,KAAK,CAAC0F,OAAO,CAAC,eAAe,CAAC;IAC9B5D,QAAQ,CAAE,aAAYyD,YAAY,CAACvE,IAAK,IAAGyE,MAAM,CAACE,EAAG,EAAC,CAAC;EACzD,CAAC;EAED,MAAMC,QAAQ,GAAIvD,CAAC,IAAK;IACtB,IAAIwD,OAAO,GAAG,IAAI;IAElB,IAAIxD,CAAC,CAACyD,MAAM,CAACC,KAAK,KAAK,MAAM,EAAE;MAC7BF,OAAO,GAAG,IAAI;IAChB;IACA,IAAIxD,CAAC,CAACyD,MAAM,CAACC,KAAK,KAAK,OAAO,EAAE;MAC9BF,OAAO,GAAG,KAAK;IACjB;;IAEA;IACA,IAAIxD,CAAC,CAACyD,MAAM,CAACE,KAAK,EAAE;MAClBjF,WAAW,CAAEkF,SAAS,KAAM;QAC1B,GAAGA,SAAS;QACZvE,MAAM,EAAEW,CAAC,CAACyD,MAAM,CAACE;MACnB,CAAC,CAAC,CAAC;IACL;;IAEA;IACA,IAAI,CAAC3D,CAAC,CAACyD,MAAM,CAACE,KAAK,EAAE;MACnBjF,WAAW,CAAEkF,SAAS;QAAA,IAAAC,QAAA;QAAA,OAAM;UAC1B,GAAGD,SAAS;UACZ,CAAC5D,CAAC,CAACyD,MAAM,CAACH,EAAE,IAAAO,QAAA,GAAGL,OAAO,cAAAK,QAAA,cAAAA,QAAA,GAAI7D,CAAC,CAACyD,MAAM,CAACC;QACrC,CAAC;MAAA,CAAC,CAAC;IACL;EACF,CAAC;EAED,IAAInF,OAAO,EAAE;IACX,oBAAOP,OAAA,CAACF,OAAO;MAAAkE,QAAA,EAAA8B,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpB;EAEA,oBACEhG,OAAA;IAAKiG,SAAS,EAAC,SAAS;IAAAC,QAAA,gBACtBlG,OAAA;MAAAkG,QAAA,eACElG,OAAA;QAAGiG,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAAgB;QAAAlC,QAAA,EAAA8B,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAhC,QAAA,EAAA8B,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CAAC,eAEThG,OAAA;MAAAkG,QAAA,eACElG,OAAA;QAAM+B,QAAQ,EAAEA,QAAS;QAAAmE,QAAA,gBACvBlG,OAAA;UAAOiG,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAW;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChDhG,OAAA;UAAKiG,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BlG,OAAA;YACEW,IAAI,EAAC,QAAQ;YACbsF,SAAS,EAAEtF,IAAI,KAAK,MAAM,GAAG,kBAAkB,GAAG,YAAa;YAC/D2E,EAAE,EAAC,MAAM;YACTI,KAAK,EAAC,MAAM;YACZS,OAAO,EAAEZ,QAAS;YAAAW,QAAA,EACnB;UAED;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThG,OAAA;YACEW,IAAI,EAAC,QAAQ;YACbsF,SAAS,EAAEtF,IAAI,KAAK,MAAM,GAAG,kBAAkB,GAAG,YAAa;YAC/D2E,EAAE,EAAC,MAAM;YACTI,KAAK,EAAC,MAAM;YACZS,OAAO,EAAEZ,QAAS;YAAAW,QAAA,EACnB;UAED;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAhC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhG,OAAA;UAAOiG,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAI;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzChG,OAAA;UACEiG,SAAS,EAAC,eAAe;UACzBtF,IAAI,EAAC,MAAM;UACX2E,EAAE,EAAC,MAAM;UACTI,KAAK,EAAE9E,IAAK;UACZwF,QAAQ,EAAEb,QAAS;UACnBc,SAAS,EAAC,IAAI;UACdC,SAAS,EAAC,IAAI;UACdC,QAAQ;QAAA;UAAAvC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eAEFhG,OAAA;UAAKiG,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BlG,OAAA;YAAAkG,QAAA,gBACElG,OAAA;cAAOiG,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAC;YAAQ;cAAAlC,QAAA,EAAA8B,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC7ChG,OAAA;cACEiG,SAAS,EAAC,gBAAgB;cAC1BtF,IAAI,EAAC,QAAQ;cACb2E,EAAE,EAAC,UAAU;cACbI,KAAK,EAAE7E,QAAS;cAChBuF,QAAQ,EAAEb,QAAS;cACnBiB,GAAG,EAAC,GAAG;cACPC,GAAG,EAAC,IAAI;cACRF,QAAQ;YAAA;cAAAvC,QAAA,EAAA8B,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAhC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNhG,OAAA;YAAAkG,QAAA,gBACElG,OAAA;cAAOiG,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAC;YAAS;cAAAlC,QAAA,EAAA8B,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC9ChG,OAAA;cACEiG,SAAS,EAAC,gBAAgB;cAC1BtF,IAAI,EAAC,QAAQ;cACb2E,EAAE,EAAC,WAAW;cACdI,KAAK,EAAE5E,SAAU;cACjBsF,QAAQ,EAAEb,QAAS;cACnBiB,GAAG,EAAC,GAAG;cACPC,GAAG,EAAC,IAAI;cACRF,QAAQ;YAAA;cAAAvC,QAAA,EAAA8B,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAhC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAhC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhG,OAAA;UAAOiG,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAY;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjDhG,OAAA;UAAKiG,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BlG,OAAA;YACEiG,SAAS,EAAElF,OAAO,GAAG,kBAAkB,GAAG,YAAa;YACvDJ,IAAI,EAAC,QAAQ;YACb2E,EAAE,EAAC,SAAS;YACZI,KAAK,EAAE,IAAK;YACZS,OAAO,EAAEZ,QAAS;YAClBiB,GAAG,EAAC,GAAG;YACPC,GAAG,EAAC,IAAI;YAAAP,QAAA,EACT;UAED;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThG,OAAA;YACEiG,SAAS,EACP,CAAClF,OAAO,IAAIA,OAAO,KAAK,IAAI,GAAG,kBAAkB,GAAG,YACrD;YACDJ,IAAI,EAAC,QAAQ;YACb2E,EAAE,EAAC,SAAS;YACZI,KAAK,EAAE,KAAM;YACbS,OAAO,EAAEZ,QAAS;YAAAW,QAAA,EACnB;UAED;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAhC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhG,OAAA;UAAOiG,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAS;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC9ChG,OAAA;UAAKiG,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BlG,OAAA;YACEiG,SAAS,EAAEjF,SAAS,GAAG,kBAAkB,GAAG,YAAa;YACzDL,IAAI,EAAC,QAAQ;YACb2E,EAAE,EAAC,WAAW;YACdI,KAAK,EAAE,IAAK;YACZS,OAAO,EAAEZ,QAAS;YAAAW,QAAA,EACnB;UAED;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThG,OAAA;YACEiG,SAAS,EACP,CAACjF,SAAS,IAAIA,SAAS,KAAK,IAAI,GAC5B,kBAAkB,GAClB,YACL;YACDL,IAAI,EAAC,QAAQ;YACb2E,EAAE,EAAC,WAAW;YACdI,KAAK,EAAE,KAAM;YACbS,OAAO,EAAEZ,QAAS;YAAAW,QAAA,EACnB;UAED;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAhC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhG,OAAA;UAAOiG,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAO;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC5ChG,OAAA;UACEiG,SAAS,EAAC,kBAAkB;UAC5BtF,IAAI,EAAC,MAAM;UACX2E,EAAE,EAAC,SAAS;UACZI,KAAK,EAAEzE,OAAQ;UACfmF,QAAQ,EAAEb,QAAS;UACnBgB,QAAQ;QAAA;UAAAvC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,EAED,CAAC3F,kBAAkB,iBAClBL,OAAA;UAAKiG,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BlG,OAAA;YAAAkG,QAAA,gBACElG,OAAA;cAAOiG,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAC;YAAQ;cAAAlC,QAAA,EAAA8B,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC7ChG,OAAA;cACEiG,SAAS,EAAC,gBAAgB;cAC1BtF,IAAI,EAAC,QAAQ;cACb2E,EAAE,EAAC,UAAU;cACbI,KAAK,EAAEpE,QAAS;cAChB8E,QAAQ,EAAEb,QAAS;cACnBgB,QAAQ;YAAA;cAAAvC,QAAA,EAAA8B,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAhC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNhG,OAAA;YAAAkG,QAAA,gBACElG,OAAA;cAAOiG,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAC;YAAS;cAAAlC,QAAA,EAAA8B,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC9ChG,OAAA;cACEiG,SAAS,EAAC,gBAAgB;cAC1BtF,IAAI,EAAC,QAAQ;cACb2E,EAAE,EAAC,WAAW;cACdI,KAAK,EAAEnE,SAAU;cACjB6E,QAAQ,EAAEb,QAAS;cACnBgB,QAAQ;YAAA;cAAAvC,QAAA,EAAA8B,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAhC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAhC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,eAEDhG,OAAA;UAAOiG,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAK;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC1ChG,OAAA;UAAKiG,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BlG,OAAA;YACEiG,SAAS,EAAE/E,KAAK,GAAG,kBAAkB,GAAG,YAAa;YACrDP,IAAI,EAAC,QAAQ;YACb2E,EAAE,EAAC,OAAO;YACVI,KAAK,EAAE,IAAK;YACZS,OAAO,EAAEZ,QAAS;YAAAW,QAAA,EACnB;UAED;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThG,OAAA;YACEiG,SAAS,EACP,CAAC/E,KAAK,IAAIA,KAAK,KAAK,IAAI,GAAG,kBAAkB,GAAG,YACjD;YACDP,IAAI,EAAC,QAAQ;YACb2E,EAAE,EAAC,OAAO;YACVI,KAAK,EAAE,KAAM;YACbS,OAAO,EAAEZ,QAAS;YAAAW,QAAA,EACnB;UAED;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAhC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhG,OAAA;UAAOiG,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAa;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAClDhG,OAAA;UAAKiG,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BlG,OAAA;YACEiG,SAAS,EAAC,gBAAgB;YAC1BtF,IAAI,EAAC,QAAQ;YACb2E,EAAE,EAAC,cAAc;YACjBI,KAAK,EAAEvE,YAAa;YACpBiF,QAAQ,EAAEb,QAAS;YACnBiB,GAAG,EAAC,IAAI;YACRC,GAAG,EAAC,WAAW;YACfF,QAAQ;UAAA;YAAAvC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,EACDrF,IAAI,KAAK,MAAM,iBAAIX,OAAA;YAAGiG,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAS;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAhC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D,CAAC,EAEL9E,KAAK,iBACJlB,OAAA,CAAAE,SAAA;UAAAgG,QAAA,gBACElG,OAAA;YAAOiG,SAAS,EAAC,WAAW;YAAAC,QAAA,EAAC;UAAgB;YAAAlC,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrDhG,OAAA;YACEiG,SAAS,EAAC,gBAAgB;YAC1BtF,IAAI,EAAC,QAAQ;YACb2E,EAAE,EAAC,iBAAiB;YACpBI,KAAK,EAAEtE,eAAgB;YACvBgF,QAAQ,EAAEb,QAAS;YACnBiB,GAAG,EAAC,IAAI;YACRC,GAAG,EAAC,WAAW;YACfF,QAAQ,EAAErF;UAAM;YAAA8C,QAAA,EAAA8B,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjB,CAAC;QAAA,eACF,CACH,eAEDhG,OAAA;UAAOiG,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAM;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC3ChG,OAAA;UAAGiG,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAE1B;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJhG,OAAA;UACEiG,SAAS,EAAC,eAAe;UACzBtF,IAAI,EAAC,MAAM;UACX2E,EAAE,EAAC,QAAQ;UACXc,QAAQ,EAAEb,QAAS;UACnBkB,GAAG,EAAC,GAAG;UACPC,MAAM,EAAC,iBAAiB;UACxBC,QAAQ;UACRJ,QAAQ;QAAA;UAAAvC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACFhG,OAAA;UAAQW,IAAI,EAAC,QAAQ;UAACsF,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EAAC;QAEpE;UAAAlC,QAAA,EAAA8B,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAhC,QAAA,EAAA8B,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAhC,QAAA,EAAA8B,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAhC,QAAA,EAAA8B,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC5F,EAAA,CAlbQD,aAAa;EAAA,QAqCHT,WAAW;AAAA;AAAAkH,EAAA,GArCrBzG,aAAa;AAobtB,eAAeA,aAAa;AAAA,IAAAyG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}