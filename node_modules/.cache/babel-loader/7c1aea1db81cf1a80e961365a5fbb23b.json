{"ast":null,"code":"import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{collection,getDocs,query,orderBy,limit}from'firebase/firestore';import{db}from'../firebase.config';import SwiperCore,{Navigation,Pagination,Scrollbar,A11y}from'swiper';import{Swiper,SwiperSlide}from'swiper/react';import'swiper/swiper-bundle.css';import Spinner from'./Spinner';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";SwiperCore.use([Navigation,Pagination,Scrollbar,A11y]);function Slider(){const[loading,setLoading]=useState(true);const[listings,setListings]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchListings=async()=>{const listingsRef=collection(db,'listings');const q=query(listingsRef,orderBy('timestamp','desc'),limit(5));const querySnap=await getDocs(q);let listings=[];querySnap.forEach(doc=>{return listings.push({id:doc.id,data:doc.data()});});setListings(listings);setLoading(false);};fetchListings();},[]);if(loading){return/*#__PURE__*/_jsx(Spinner,{});}if(listings.length===0){return/*#__PURE__*/_jsx(_Fragment,{});}return listings&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"exploreHeading\",children:\"Recommended\"}),/*#__PURE__*/_jsx(Swiper,{slidesPerView:1,pagination:{clickable:true},children:listings.map(_ref=>{var _data$discountedPrice;let{data,id}=_ref;return/*#__PURE__*/_jsx(SwiperSlide,{onClick:()=>navigate(\"/category/\".concat(data.type,\"/\").concat(id)),children:/*#__PURE__*/_jsxs(\"div\",{style:{background:\"url(\".concat(data.imgUrls[0],\") center no-repeat\"),backgroundSize:'cover'},className:\"swiperSlideDiv\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"swiperSlideText\",children:data.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"swiperSlidePrice\",children:[\"$\",(_data$discountedPrice=data.discountedPrice)!==null&&_data$discountedPrice!==void 0?_data$discountedPrice:data.regularPrice,' ',data.type==='rent'&&'/ month']})]})},id);})})]});}export default Slider;","map":{"version":3,"names":["useState","useEffect","useNavigate","collection","getDocs","query","orderBy","limit","db","SwiperCore","Navigation","Pagination","Scrollbar","A11y","Swiper","SwiperSlide","Spinner","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","use","Slider","loading","setLoading","listings","setListings","navigate","fetchListings","listingsRef","q","querySnap","forEach","doc","push","id","data","length","children","className","slidesPerView","pagination","clickable","map","_ref","_data$discountedPrice","onClick","concat","type","style","background","imgUrls","backgroundSize","name","discountedPrice","regularPrice"],"sources":["/Users/alextruong/Documents/Coding/house-marketplace/src/components/Slider.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { collection, getDocs, query, orderBy, limit } from 'firebase/firestore'\nimport { db } from '../firebase.config'\nimport SwiperCore, { Navigation, Pagination, Scrollbar, A11y } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport 'swiper/swiper-bundle.css'\nimport Spinner from './Spinner'\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y])\n\nfunction Slider() {\n  const [loading, setLoading] = useState(true)\n  const [listings, setListings] = useState(null)\n\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    const fetchListings = async () => {\n      const listingsRef = collection(db, 'listings')\n      const q = query(listingsRef, orderBy('timestamp', 'desc'), limit(5))\n      const querySnap = await getDocs(q)\n\n      let listings = []\n\n      querySnap.forEach((doc) => {\n        return listings.push({\n          id: doc.id,\n          data: doc.data(),\n        })\n      })\n\n      setListings(listings)\n      setLoading(false)\n    }\n\n    fetchListings()\n  }, [])\n\n  if (loading) {\n    return <Spinner />\n  }\n\n  if (listings.length === 0) {\n    return <></>\n  }\n\n  return (\n    listings && (\n      <>\n        <p className='exploreHeading'>Recommended</p>\n\n        <Swiper slidesPerView={1} pagination={{ clickable: true }}>\n          {listings.map(({ data, id }) => (\n            <SwiperSlide\n              key={id}\n              onClick={() => navigate(`/category/${data.type}/${id}`)}\n            >\n              <div\n                style={{\n                  background: `url(${data.imgUrls[0]}) center no-repeat`,\n                  backgroundSize: 'cover',\n                }}\n                className='swiperSlideDiv'\n              >\n                <p className='swiperSlideText'>{data.name}</p>\n                <p className='swiperSlidePrice'>\n                  ${data.discountedPrice ?? data.regularPrice}{' '}\n                  {data.type === 'rent' && '/ month'}\n                </p>\n              </div>\n            </SwiperSlide>\n          ))}\n        </Swiper>\n      </>\n    )\n  )\n}\n\nexport default Slider\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}