{"ast":null,"code":"import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{getAuth,createUserWithEmailAndPassword,updateProfile}from'firebase/auth';import{setDoc,doc,serverTimestamp}from'firebase/firestore';import{db}from'../firebase.config';import OAuth from'../components/OAuth';import{ReactComponent as ArrowRightIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/svg/keyboardArrowRightIcon.svg\";import visibilityIcon from\"../assets/svg/visibilityIcon.svg\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function SignUp(){const[showPassword,setShowPassword]=useState(false);const[formData,setFormData]=useState({name:'',email:'',password:''});const{name,email,password}=formData;const navigate=useNavigate();const onChange=e=>{setFormData(prevState=>({...prevState,[e.target.id]:e.target.value}));};const onSubmit=async e=>{e.preventDefault();try{const auth=getAuth();const userCredential=await createUserWithEmailAndPassword(auth,email,password);const user=userCredential.user;updateProfile(auth.currentUser,{displayName:name});const formDataCopy={...formData};delete formDataCopy.password;formDataCopy.timestamp=serverTimestamp();await setDoc(doc(db,'users',user.uid),formDataCopy);navigate('/');}catch(error){toast.error('Something went wrong with registration');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainer\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"pageHeader\",children:\"Welcome Back!\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"nameInput\",placeholder:\"Name\",id:\"name\",value:name,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"emailInput\",placeholder:\"Email\",id:\"email\",value:email,onChange:onChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"passwordInputDiv\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',className:\"passwordInput\",placeholder:\"Password\",id:\"password\",value:password,onChange:onChange}),/*#__PURE__*/_jsx(\"img\",{src:visibilityIcon,alt:\"show password\",className:\"showPassword\",onClick:()=>setShowPassword(prevState=>!prevState)})]}),/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"forgotPasswordLink\",children:\"Forgot Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"signUpBar\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"signUpText\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signUpButton\",children:/*#__PURE__*/_jsx(ArrowRightIcon,{fill:\"#ffffff\",width:\"34px\",height:\"34px\"})})]})]}),/*#__PURE__*/_jsx(OAuth,{}),/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"registerLink\",children:\"Sign In Instead\"})]})});}export default SignUp;","map":{"version":3,"names":["useState","Link","useNavigate","toast","getAuth","createUserWithEmailAndPassword","updateProfile","setDoc","doc","serverTimestamp","db","OAuth","ReactComponent","ArrowRightIcon","visibilityIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SignUp","showPassword","setShowPassword","formData","setFormData","name","email","password","navigate","onChange","e","prevState","target","id","value","onSubmit","preventDefault","auth","userCredential","user","currentUser","displayName","formDataCopy","timestamp","uid","error","children","className","type","placeholder","src","alt","onClick","to","fill","width","height"],"sources":["/Users/alextruong/Documents/Coding/house-marketplace/src/pages/SignUp.js"],"sourcesContent":["import { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { toast } from 'react-toastify'\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  updateProfile,\n} from 'firebase/auth'\nimport { setDoc, doc, serverTimestamp } from 'firebase/firestore'\nimport { db } from '../firebase.config'\nimport OAuth from '../components/OAuth'\nimport { ReactComponent as ArrowRightIcon } from '../assets/svg/keyboardArrowRightIcon.svg'\nimport visibilityIcon from '../assets/svg/visibilityIcon.svg'\n\nfunction SignUp() {\n  const [showPassword, setShowPassword] = useState(false)\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n  })\n  const { name, email, password } = formData\n\n  const navigate = useNavigate()\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.id]: e.target.value,\n    }))\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n\n    try {\n      const auth = getAuth()\n\n      const userCredential = await createUserWithEmailAndPassword(\n        auth,\n        email,\n        password\n      )\n\n      const user = userCredential.user\n\n      updateProfile(auth.currentUser, {\n        displayName: name,\n      })\n\n      const formDataCopy = { ...formData }\n      delete formDataCopy.password\n      formDataCopy.timestamp = serverTimestamp()\n\n      await setDoc(doc(db, 'users', user.uid), formDataCopy)\n\n      navigate('/')\n    } catch (error) {\n      toast.error('Something went wrong with registration')\n    }\n  }\n\n  return (\n    <>\n      <div className='pageContainer'>\n        <header>\n          <p className='pageHeader'>Welcome Back!</p>\n        </header>\n\n        <form onSubmit={onSubmit}>\n          <input\n            type='text'\n            className='nameInput'\n            placeholder='Name'\n            id='name'\n            value={name}\n            onChange={onChange}\n          />\n          <input\n            type='email'\n            className='emailInput'\n            placeholder='Email'\n            id='email'\n            value={email}\n            onChange={onChange}\n          />\n\n          <div className='passwordInputDiv'>\n            <input\n              type={showPassword ? 'text' : 'password'}\n              className='passwordInput'\n              placeholder='Password'\n              id='password'\n              value={password}\n              onChange={onChange}\n            />\n\n            <img\n              src={visibilityIcon}\n              alt='show password'\n              className='showPassword'\n              onClick={() => setShowPassword((prevState) => !prevState)}\n            />\n          </div>\n\n          <Link to='/forgot-password' className='forgotPasswordLink'>\n            Forgot Password\n          </Link>\n\n          <div className='signUpBar'>\n            <p className='signUpText'>Sign Up</p>\n            <button className='signUpButton'>\n              <ArrowRightIcon fill='#ffffff' width='34px' height='34px' />\n            </button>\n          </div>\n        </form>\n\n        <OAuth />\n\n        <Link to='/sign-in' className='registerLink'>\n          Sign In Instead\n        </Link>\n      </div>\n    </>\n  )\n}\n\nexport default SignUp\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OACEC,OAAO,CACPC,8BAA8B,CAC9BC,aAAa,KACR,eAAe,CACtB,OAASC,MAAM,CAAEC,GAAG,CAAEC,eAAe,KAAQ,oBAAoB,CACjE,OAASC,EAAE,KAAQ,oBAAoB,CACvC,MAAO,CAAAC,KAAK,KAAM,qBAAqB,QAAAC,cAAA,IAAAC,cAAA,2FAAAC,cAAA,+CAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAIvC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,CACvC0B,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACF,KAAM,CAAEF,IAAI,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAGJ,QAAQ,CAE1C,KAAM,CAAAK,QAAQ,CAAG3B,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAA4B,QAAQ,CAAIC,CAAC,EAAK,CACtBN,WAAW,CAAEO,SAAS,GAAM,CAC1B,GAAGA,SAAS,CACZ,CAACD,CAAC,CAACE,MAAM,CAACC,EAAE,EAAGH,CAAC,CAACE,MAAM,CAACE,KAC1B,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG,KAAO,CAAAL,CAAC,EAAK,CAC5BA,CAAC,CAACM,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,KAAM,CAAAC,IAAI,CAAGlC,OAAO,CAAC,CAAC,CAEtB,KAAM,CAAAmC,cAAc,CAAG,KAAM,CAAAlC,8BAA8B,CACzDiC,IAAI,CACJX,KAAK,CACLC,QACF,CAAC,CAED,KAAM,CAAAY,IAAI,CAAGD,cAAc,CAACC,IAAI,CAEhClC,aAAa,CAACgC,IAAI,CAACG,WAAW,CAAE,CAC9BC,WAAW,CAAEhB,IACf,CAAC,CAAC,CAEF,KAAM,CAAAiB,YAAY,CAAG,CAAE,GAAGnB,QAAS,CAAC,CACpC,MAAO,CAAAmB,YAAY,CAACf,QAAQ,CAC5Be,YAAY,CAACC,SAAS,CAAGnC,eAAe,CAAC,CAAC,CAE1C,KAAM,CAAAF,MAAM,CAACC,GAAG,CAACE,EAAE,CAAE,OAAO,CAAE8B,IAAI,CAACK,GAAG,CAAC,CAAEF,YAAY,CAAC,CAEtDd,QAAQ,CAAC,GAAG,CAAC,CACf,CAAE,MAAOiB,KAAK,CAAE,CACd3C,KAAK,CAAC2C,KAAK,CAAC,wCAAwC,CAAC,CACvD,CACF,CAAC,CAED,mBACE9B,IAAA,CAAAI,SAAA,EAAA2B,QAAA,cACE7B,KAAA,QAAK8B,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B/B,IAAA,WAAA+B,QAAA,cACE/B,IAAA,MAAGgC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,eAAa,CAAG,CAAC,CACrC,CAAC,cAET7B,KAAA,SAAMkB,QAAQ,CAAEA,QAAS,CAAAW,QAAA,eACvB/B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,WAAW,CACrBE,WAAW,CAAC,MAAM,CAClBhB,EAAE,CAAC,MAAM,CACTC,KAAK,CAAET,IAAK,CACZI,QAAQ,CAAEA,QAAS,CACpB,CAAC,cACFd,IAAA,UACEiC,IAAI,CAAC,OAAO,CACZD,SAAS,CAAC,YAAY,CACtBE,WAAW,CAAC,OAAO,CACnBhB,EAAE,CAAC,OAAO,CACVC,KAAK,CAAER,KAAM,CACbG,QAAQ,CAAEA,QAAS,CACpB,CAAC,cAEFZ,KAAA,QAAK8B,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/B/B,IAAA,UACEiC,IAAI,CAAE3B,YAAY,CAAG,MAAM,CAAG,UAAW,CACzC0B,SAAS,CAAC,eAAe,CACzBE,WAAW,CAAC,UAAU,CACtBhB,EAAE,CAAC,UAAU,CACbC,KAAK,CAAEP,QAAS,CAChBE,QAAQ,CAAEA,QAAS,CACpB,CAAC,cAEFd,IAAA,QACEmC,GAAG,CAAErC,cAAe,CACpBsC,GAAG,CAAC,eAAe,CACnBJ,SAAS,CAAC,cAAc,CACxBK,OAAO,CAAEA,CAAA,GAAM9B,eAAe,CAAES,SAAS,EAAK,CAACA,SAAS,CAAE,CAC3D,CAAC,EACC,CAAC,cAENhB,IAAA,CAACf,IAAI,EAACqD,EAAE,CAAC,kBAAkB,CAACN,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAC,iBAE3D,CAAM,CAAC,cAEP7B,KAAA,QAAK8B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxB/B,IAAA,MAAGgC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,SAAO,CAAG,CAAC,cACrC/B,IAAA,WAAQgC,SAAS,CAAC,cAAc,CAAAD,QAAA,cAC9B/B,IAAA,CAACH,cAAc,EAAC0C,IAAI,CAAC,SAAS,CAACC,KAAK,CAAC,MAAM,CAACC,MAAM,CAAC,MAAM,CAAE,CAAC,CACtD,CAAC,EACN,CAAC,EACF,CAAC,cAEPzC,IAAA,CAACL,KAAK,GAAE,CAAC,cAETK,IAAA,CAACf,IAAI,EAACqD,EAAE,CAAC,UAAU,CAACN,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,iBAE7C,CAAM,CAAC,EACJ,CAAC,CACN,CAAC,CAEP,CAEA,cAAe,CAAA1B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}